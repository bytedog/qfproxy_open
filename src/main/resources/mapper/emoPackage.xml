<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qunar.qfproxy.dao.EmoPackageDao">

    <resultMap id="baseMap" type="com.qunar.qfproxy.model.EmoPackConf">
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="pkgid" column="pkg_id" jdbcType="VARCHAR"/>
        <result property="name" column="pkg_name" jdbcType="VARCHAR"/>
        <result property="file" column="pkg_file" jdbcType="VARCHAR"/>
        <result property="desc" column="pkg_desc" jdbcType="VARCHAR"/>
        <result property="thumb" column="pkg_thumb" jdbcType="VARCHAR"/>
        <result property="fileSize" column="file_size" jdbcType="INTEGER"/>
        <result property="md5" column="md5" jdbcType="VARCHAR"/>
        <result property="createTime" column="create_time" jdbcType="TIMESTAMP"/>
        <result property="ownerUser" column="pkg_owner" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        pkg_id, pkg_name, pkg_file, pkg_desc , pkg_thumb, file_size, md5, create_time,pkg_owner
    </sql>
    <select id="getAllEmoPackage" resultMap="baseMap">
        select
        <include refid="Base_Column_List"/>
        FROM qtalk_emo_table order by id;
    </select>

    <insert id="insertEmo" parameterType="com.qunar.qfproxy.model.EmoPackConf">
        insert into qtalk_emo_table
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pkgid != null">
                pkg_id,
            </if>
            <if test="name != null">
                pkg_name,
            </if>
            <if test="file != null">
                pkg_file,
            </if>
            <if test="desc != null">
                pkg_desc,
            </if>
            <if test="thumb != null">
                pkg_thumb,
            </if>
            <if test="fileSize != null">
                file_size,
            </if>
            <if test="md5 != null">
                md5,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="ownerUser != null">
                pkg_owner,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="pkgid != null">
                #{pkgid,jdbcType=VARCHAR},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="file != null">
                #{file,jdbcType=VARCHAR},
            </if>
            <if test="desc != null">
                #{desc,jdbcType=VARCHAR},
            </if>
            <if test="thumb != null">
                #{thumb,jdbcType=VARCHAR},
            </if>
            <if test="fileSize != null">
                #{fileSize,jdbcType=INTEGER},
            </if>
            <if test="md5 != null">
                #{md5,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=VARCHAR},
            </if>
            <if test="ownerUser != null">
                #{ownerUser,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <select id="getEmoByEmoId" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List"/>
        FROM qtalk_emo_table where pkg_id=#{pkgId} limit 1;
    </select>

    <select id="getEmoByEmoName" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List"/>
        FROM qtalk_emo_table where pkg_name=#{pkgName} limit 1;
    </select>
</mapper>